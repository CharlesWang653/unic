{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/charleswang/Desktop/coding learning/web/projects/my-app/src/Home.js\";\nimport React from \"react\";\nimport ReactFileReader from 'react-file-reader';\nimport MaterialTable from \"material-table\";\nimport { forwardRef } from 'react';\nimport { Edit, Delete, Add } from '@material-ui/icons';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nconst tableIcons = {\n  Add: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(AddBox, { ...props,\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 35\n  }, this)),\n  Check: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Check, { ...props,\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 37\n  }, this)),\n  Clear: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Clear, { ...props,\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 37\n  }, this)),\n  Delete: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(DeleteOutline, { ...props,\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 38\n  }, this)),\n  DetailPanel: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(ChevronRight, { ...props,\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 43\n  }, this)),\n  Edit: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Edit, { ...props,\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 36\n  }, this)),\n  Export: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(SaveAlt, { ...props,\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 38\n  }, this)),\n  Filter: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(FilterList, { ...props,\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 38\n  }, this)),\n  FirstPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(FirstPage, { ...props,\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 41\n  }, this)),\n  LastPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(LastPage, { ...props,\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 40\n  }, this)),\n  NextPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(ChevronRight, { ...props,\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 40\n  }, this)),\n  PreviousPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(ChevronLeft, { ...props,\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 44\n  }, this)),\n  ResetSearch: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Clear, { ...props,\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 43\n  }, this)),\n  Search: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Search, { ...props,\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 38\n  }, this)),\n  SortArrow: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(ArrowUpward, { ...props,\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 41\n  }, this)),\n  ThirdStateCheck: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Remove, { ...props,\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 47\n  }, this)),\n  ViewColumn: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(ViewColumn, { ...props,\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 42\n  }, this))\n};\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props); // You have to run this before you init state\n\n    this.handleFiles = files => {\n      var reader = new FileReader();\n\n      reader.onload = e => {\n        // Use reader.result\n        this.setState({\n          text: this.csvToTable(reader.result)\n        });\n      };\n\n      reader.readAsText(files[0], 'utf-8');\n    };\n\n    this.csvToTable = content => {\n      //csv转表格obj格式\n      var userList = content.split(\"\\n\");\n      var data = [];\n\n      for (var i = 1; i < userList.length; i++) {\n        var userary = userList[i].split(\",\");\n        var tr = {}; //表里的7行\n\n        tr.id = userary[0];\n        tr.platform = userary[1];\n        tr.key = userary[2];\n        tr.shop = userary[3];\n        tr.name = userary[4];\n        tr.price = userary[5];\n        tr.linkName = userary[4]; //缓存链接\n\n        tr.link = userary[6];\n        data.push({ ...tr\n        });\n      }\n\n      return data;\n    };\n\n    this.handleClick = (e, rowd) => {\n      console.log(rowd);\n      window.location.href = rowd.link;\n    };\n\n    this.state = {};\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ReactFileReader, {\n        handleFiles: this.handleFiles,\n        fileTypes: '.csv',\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          children: \"Upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MaterialTable, {\n        icons: tableIcons,\n        onRowClick: this.handleClick,\n        columns: [{\n          title: \"序号\",\n          field: \"id\",\n          disableClick: true\n        }, {\n          title: \"电商平台\",\n          field: \"platform\",\n          disableClick: true\n        }, {\n          title: \"关键字\",\n          field: \"key\",\n          disableClick: true\n        }, {\n          title: \"店铺名称\",\n          field: \"shop\",\n          disableClick: true\n        }, {\n          title: \"产品名称\",\n          field: \"name\",\n          disableClick: true\n        }, {\n          title: \"单价\",\n          field: \"price\",\n          disableClick: true\n        }, {\n          title: \"网址\",\n          field: \"linkName\"\n        }, {\n          title: \"url\",\n          field: \"link\",\n          hidden: true\n        }],\n        data: this.state.text,\n        title: \"Demo Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/charleswang/Desktop/coding learning/web/projects/my-app/src/Home.js"],"names":["React","ReactFileReader","MaterialTable","forwardRef","Edit","Delete","Add","AddBox","ArrowUpward","Check","ChevronLeft","ChevronRight","Clear","DeleteOutline","FilterList","FirstPage","LastPage","Remove","SaveAlt","Search","ViewColumn","tableIcons","props","ref","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","Home","Component","constructor","handleFiles","files","reader","FileReader","onload","e","setState","text","csvToTable","result","readAsText","content","userList","split","data","i","length","userary","tr","id","platform","key","shop","name","price","linkName","link","push","handleClick","rowd","console","log","window","location","href","state","render","title","field","disableClick","hidden"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport ReactFileReader from 'react-file-reader';\nimport MaterialTable from \"material-table\";\nimport { forwardRef } from 'react';\n\nimport {Edit, Delete, Add} from '@material-ui/icons';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nconst tableIcons = {\n  Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\n  Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\n  Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n  Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\n  DetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n  Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\n  Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\n  Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\n  FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\n  LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\n  NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n  PreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\n  ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n  Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\n  SortArrow: forwardRef((props, ref) => <ArrowUpward {...props} ref={ref} />),\n  ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\n  ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />)\n};\nclass Home extends React.Component {\n  constructor(props) {\n    super(props); // You have to run this before you init state\n    this.state = {};\n  }\n  handleFiles = files => {\n    var reader = new FileReader();\n    reader.onload = (e) => {\n    // Use reader.result\n      this.setState({text:this.csvToTable(reader.result)});\n    }\n    reader.readAsText(files[0],'utf-8');\n  }\n  csvToTable = (content) => {//csv转表格obj格式\n    var userList = content.split(\"\\n\");\n    var data = [];\n    for (var i = 1; i < userList.length; i++) {\n      var userary = userList[i].split(\",\");\n      var tr = {};\n      //表里的7行\n      tr.id = userary[0]\n      tr.platform = userary[1];\n      tr.key = userary[2];\n      tr.shop = userary[3];\n      tr.name = userary[4];\n      tr.price = userary[5];\n      tr.linkName = userary[4];\n      //缓存链接\n      tr.link = userary[6];\n      data.push({...tr});\n    }\n    return data;\n  }\n  // print = () => {\n  //   console.log(this.state);\n  // }\n  handleClick = (e, rowd) => {\n    console.log(rowd);\n    window.location.href = rowd.link;\n  }\n  render() {\n    return (\n      <div>\n        <ReactFileReader handleFiles={this.handleFiles} fileTypes={'.csv'}>\n          <button className='btn'>Upload</button>\n        </ReactFileReader>\n        <MaterialTable\n          icons={tableIcons}\n          onRowClick={this.handleClick}\n          columns={[\n            { title: \"序号\", field: \"id\", disableClick:true},\n            { title: \"电商平台\", field: \"platform\", disableClick:true},\n            { title: \"关键字\", field: \"key\", disableClick:true},\n            { title: \"店铺名称\", field: \"shop\", disableClick:true},\n            { title: \"产品名称\", field: \"name\", disableClick:true},\n            { title: \"单价\", field: \"price\", disableClick:true},\n            { title: \"网址\", field: \"linkName\"},\n            { title: \"url\", field: \"link\", hidden:true},\n          ]}\n          data={this.state.text}\n          title=\"Demo Title\"\n        />\n          {/* <button onClick={this.print}>b1</button> */}\n      </div>\n    );\n  }\n}\nexport default Home;"]},"metadata":{},"sourceType":"module"}