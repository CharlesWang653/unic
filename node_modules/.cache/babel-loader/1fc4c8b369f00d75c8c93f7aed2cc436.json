{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/charleswang/Desktop/coding learning/web/projects/my-app/src/Page1.js\";\nimport React from \"react\";\nimport ReactFileReader from 'react-file-reader';\nimport Imgs from \"./Page2\"; // componentDidMount = () => {\n\nvar data = {}; // }\n\nconst handleFiles = files => {\n  var reader = new FileReader();\n\n  reader.onload = e => {\n    // Use reader.result\n    data.text = csvToTable(reader.result);\n    console.log(data.text);\n    Pic();\n  };\n\n  reader.readAsText(files[0], 'utf-8');\n};\n\nconst csvToTable = content => {\n  //csv转表格obj格式\n  var userList = content.split(\"\\n\");\n  var data = [];\n\n  for (var i = 1; i < userList.length; i++) {\n    var userary = userList[i].split(\",\");\n    var tr = {}; //表里的7行\n\n    tr.link = userary[0];\n    data.push({ ...tr\n    });\n  }\n\n  return data;\n};\n\nexport default function Pic() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(ReactFileReader, {\n      handleFiles: handleFiles,\n      fileTypes: '.csv',\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Imgs, {\n      link: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this), \"Page1\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 7\n  }, this);\n}\n_c = Pic;\n\nvar _c;\n\n$RefreshReg$(_c, \"Pic\");","map":{"version":3,"sources":["/Users/charleswang/Desktop/coding learning/web/projects/my-app/src/Page1.js"],"names":["React","ReactFileReader","Imgs","data","handleFiles","files","reader","FileReader","onload","e","text","csvToTable","result","console","log","Pic","readAsText","content","userList","split","i","length","userary","tr","link","push"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AAEA,OAAOC,IAAP,MAAiB,SAAjB,C,CAEE;;AACA,IAAIC,IAAI,GAAG,EAAX,C,CACA;;AACA,MAAMC,WAAW,GAAGC,KAAK,IAAI;AAC3B,MAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AACAD,EAAAA,MAAM,CAACE,MAAP,GAAiBC,CAAD,IAAO;AACvB;AACEN,IAAAA,IAAI,CAACO,IAAL,GAAYC,UAAU,CAACL,MAAM,CAACM,MAAR,CAAtB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYX,IAAI,CAACO,IAAjB;AACAK,IAAAA,GAAG;AACJ,GALD;;AAMAT,EAAAA,MAAM,CAACU,UAAP,CAAkBX,KAAK,CAAC,CAAD,CAAvB,EAA2B,OAA3B;AACD,CATD;;AAUA,MAAMM,UAAU,GAAIM,OAAD,IAAa;AAAC;AAC/B,MAAIC,QAAQ,GAAGD,OAAO,CAACE,KAAR,CAAc,IAAd,CAAf;AACA,MAAIhB,IAAI,GAAG,EAAX;;AACA,OAAK,IAAIiB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,QAAQ,CAACG,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACxC,QAAIE,OAAO,GAAGJ,QAAQ,CAACE,CAAD,CAAR,CAAYD,KAAZ,CAAkB,GAAlB,CAAd;AACA,QAAII,EAAE,GAAG,EAAT,CAFwC,CAGxC;;AACAA,IAAAA,EAAE,CAACC,IAAH,GAAUF,OAAO,CAAC,CAAD,CAAjB;AACAnB,IAAAA,IAAI,CAACsB,IAAL,CAAU,EAAC,GAAGF;AAAJ,KAAV;AACD;;AACD,SAAOpB,IAAP;AACD,CAXD;;AAYA,eAAe,SAASY,GAAT,GAAc;AAE3B,sBACE;AAAA,4BACE,QAAC,eAAD;AAAiB,MAAA,WAAW,EAAEX,WAA9B;AAA2C,MAAA,SAAS,EAAE,MAAtD;AAAA,6BACE;AAAQ,QAAA,SAAS,EAAC,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAIE,QAAC,IAAD;AAAM,MAAA,IAAI,EAAED;AAAZ;AAAA;AAAA;AAAA;AAAA,YAJF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAUD;KAZuBY,G","sourcesContent":["import React from \"react\"\nimport ReactFileReader from 'react-file-reader';\n\nimport Imgs from \"./Page2\"\n\n  // componentDidMount = () => {\n  var data = {}\n  // }\n  const handleFiles = files => {\n    var reader = new FileReader();\n    reader.onload = (e) => {\n    // Use reader.result\n      data.text = csvToTable(reader.result);\n      console.log(data.text);\n      Pic();\n    }\n    reader.readAsText(files[0],'utf-8');\n  }\n  const csvToTable = (content) => {//csv转表格obj格式\n    var userList = content.split(\"\\n\");\n    var data = [];\n    for (var i = 1; i < userList.length; i++) {\n      var userary = userList[i].split(\",\");\n      var tr = {};\n      //表里的7行\n      tr.link = userary[0];\n      data.push({...tr});\n    }\n    return data;\n  }\n  export default function Pic(){\n    \n    return (\n      <div>\n        <ReactFileReader handleFiles={handleFiles} fileTypes={'.csv'}>\n          <button className='btn'>Upload</button>\n        </ReactFileReader>\n        <Imgs link={data}></Imgs>\n        \n        Page1\n      </div>\n    );\n  }"]},"metadata":{},"sourceType":"module"}