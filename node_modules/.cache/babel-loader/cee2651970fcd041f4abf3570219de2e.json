{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/charleswang/Desktop/coding learning/web/projects/my-app/src/Page1.js\";\nimport React from \"react\";\n\nclass Pic extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.componentDidMount = () => {\n      this.handleFiles(\"src/img.csv\");\n      console.log(this.state);\n    };\n\n    this.handleFiles = files => {\n      var reader = new FileReader();\n\n      reader.onload = e => {\n        // Use reader.result\n        this.setState({\n          text: this.csvToTable(reader.result)\n        });\n      };\n\n      reader.readAsText(files, 'gbk');\n    };\n\n    this.csvToTable = content => {\n      //csv转表格obj格式\n      var userList = content.split(\"\\n\");\n      var data = [];\n\n      for (var i = 1; i < userList.length; i++) {\n        var userary = userList[i].split(\",\");\n        var tr = {}; //表里的7行\n\n        tr.id = userary[0];\n        tr.platform = userary[1];\n        tr.key = userary[2];\n        tr.shop = userary[3];\n        tr.name = userary[4];\n        tr.price = userary[5];\n        tr.linkName = userary[4]; //缓存链接\n\n        tr.link = userary[6];\n        data.push({ ...tr\n        });\n      }\n\n      return data;\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Page1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Pic;","map":{"version":3,"sources":["/Users/charleswang/Desktop/coding learning/web/projects/my-app/src/Page1.js"],"names":["React","Pic","Component","componentDidMount","handleFiles","console","log","state","files","reader","FileReader","onload","e","setState","text","csvToTable","result","readAsText","content","userList","split","data","i","length","userary","tr","id","platform","key","shop","name","price","linkName","link","push","render"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AACA,MAAMC,GAAN,SAAkBD,KAAK,CAACE,SAAxB,CAAkC;AAAA;AAAA;;AAAA,SAChCC,iBADgC,GACZ,MAAM;AACxB,WAAKC,WAAL,CAAiB,aAAjB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAjB;AACD,KAJ+B;;AAAA,SAKhCH,WALgC,GAKlBI,KAAK,IAAI;AACrB,UAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AACAD,MAAAA,MAAM,CAACE,MAAP,GAAiBC,CAAD,IAAO;AACvB;AACE,aAAKC,QAAL,CAAc;AAACC,UAAAA,IAAI,EAAC,KAAKC,UAAL,CAAgBN,MAAM,CAACO,MAAvB;AAAN,SAAd;AACD,OAHD;;AAIAP,MAAAA,MAAM,CAACQ,UAAP,CAAkBT,KAAlB,EAAwB,KAAxB;AACD,KAZ+B;;AAAA,SAahCO,UAbgC,GAalBG,OAAD,IAAa;AAAC;AACzB,UAAIC,QAAQ,GAAGD,OAAO,CAACE,KAAR,CAAc,IAAd,CAAf;AACA,UAAIC,IAAI,GAAG,EAAX;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,QAAQ,CAACI,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACxC,YAAIE,OAAO,GAAGL,QAAQ,CAACG,CAAD,CAAR,CAAYF,KAAZ,CAAkB,GAAlB,CAAd;AACA,YAAIK,EAAE,GAAG,EAAT,CAFwC,CAGxC;;AACAA,QAAAA,EAAE,CAACC,EAAH,GAAQF,OAAO,CAAC,CAAD,CAAf;AACAC,QAAAA,EAAE,CAACE,QAAH,GAAcH,OAAO,CAAC,CAAD,CAArB;AACAC,QAAAA,EAAE,CAACG,GAAH,GAASJ,OAAO,CAAC,CAAD,CAAhB;AACAC,QAAAA,EAAE,CAACI,IAAH,GAAUL,OAAO,CAAC,CAAD,CAAjB;AACAC,QAAAA,EAAE,CAACK,IAAH,GAAUN,OAAO,CAAC,CAAD,CAAjB;AACAC,QAAAA,EAAE,CAACM,KAAH,GAAWP,OAAO,CAAC,CAAD,CAAlB;AACAC,QAAAA,EAAE,CAACO,QAAH,GAAcR,OAAO,CAAC,CAAD,CAArB,CAVwC,CAWxC;;AACAC,QAAAA,EAAE,CAACQ,IAAH,GAAUT,OAAO,CAAC,CAAD,CAAjB;AACAH,QAAAA,IAAI,CAACa,IAAL,CAAU,EAAC,GAAGT;AAAJ,SAAV;AACD;;AACD,aAAOJ,IAAP;AACD,KAhC+B;AAAA;;AAiChCc,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAKD;;AAvC+B;;AAyClC,eAAelC,GAAf","sourcesContent":["import React from \"react\"\nclass Pic extends React.Component {\n  componentDidMount = () => {\n    this.handleFiles(\"src/img.csv\");\n    console.log(this.state);\n  }\n  handleFiles = files => {\n    var reader = new FileReader();\n    reader.onload = (e) => {\n    // Use reader.result\n      this.setState({text:this.csvToTable(reader.result)});\n    }\n    reader.readAsText(files,'gbk');\n  }\n  csvToTable = (content) => {//csv转表格obj格式\n    var userList = content.split(\"\\n\");\n    var data = [];\n    for (var i = 1; i < userList.length; i++) {\n      var userary = userList[i].split(\",\");\n      var tr = {};\n      //表里的7行\n      tr.id = userary[0]\n      tr.platform = userary[1];\n      tr.key = userary[2];\n      tr.shop = userary[3];\n      tr.name = userary[4];\n      tr.price = userary[5];\n      tr.linkName = userary[4];\n      //缓存链接\n      tr.link = userary[6];\n      data.push({...tr});\n    }\n    return data;\n  }\n  render() {\n    return (\n      <div>\n        Page1\n      </div>\n    );\n  }\n}\nexport default Pic;"]},"metadata":{},"sourceType":"module"}