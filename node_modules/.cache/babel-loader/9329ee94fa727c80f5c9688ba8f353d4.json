{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/charleswang/Desktop/coding learning/web/projects/my-app/src/Page1.js\";\nimport React from \"react\";\nimport ReactFileReader from 'react-file-reader';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\n\nclass Pic extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleFiles = files => {\n      var reader = new FileReader();\n\n      reader.onload = e => {\n        // Use reader.result\n        this.setState({\n          text: this.csvToTable(reader.result)\n        });\n        console.log(this.state);\n      };\n\n      reader.readAsText(files[0], 'utf-8');\n    };\n\n    this.csvToTable = content => {\n      //csv转表格obj格式\n      var userList = content.split(\"\\n\");\n      var data = [];\n\n      for (var i = 1; i < userList.length; i++) {\n        var userary = userList[i].split(\",\");\n        var tr = {}; //表里的7行\n\n        tr.link = userary[0];\n        data.push({ ...tr\n        });\n      }\n\n      return data;\n    };\n\n    this.useStyles = makeStyles(theme => ({\n      root: {\n        display: 'flex',\n        '& > *': {\n          margin: theme.spacing(1)\n        }\n      },\n      small: {\n        width: theme.spacing(3),\n        height: theme.spacing(3)\n      },\n      large: {\n        width: theme.spacing(10),\n        height: theme.spacing(10)\n      }\n    }));\n  }\n\n  render() {\n    var _s = $RefreshSig$();\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ReactFileReader, {\n        handleFiles: this.handleFiles,\n        fileTypes: '.csv',\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          children: \"Upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), this.state && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: this.state.text.map(_s(item => {\n          _s();\n\n          console.log(item.link);\n          return /*#__PURE__*/_jsxDEV(Avatar, {\n            className: this.useStyles().large,\n            alt: \"Remy Sharp\",\n            src: item.link\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this);\n        }, \"LpG94fGMPG7B/LCQ+ela2fKlpdc=\", true))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 25\n      }, this), \"Page1\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Pic;","map":{"version":3,"sources":["/Users/charleswang/Desktop/coding learning/web/projects/my-app/src/Page1.js"],"names":["React","ReactFileReader","Avatar","makeStyles","Pic","Component","handleFiles","files","reader","FileReader","onload","e","setState","text","csvToTable","result","console","log","state","readAsText","content","userList","split","data","i","length","userary","tr","link","push","useStyles","theme","root","display","margin","spacing","small","width","height","large","render","map","item"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,UAAT,QAA2B,0BAA3B;;AAEA,MAAMC,GAAN,SAAkBJ,KAAK,CAACK,SAAxB,CAAkC;AAAA;AAAA;;AAAA,SAIhCC,WAJgC,GAIlBC,KAAK,IAAI;AACrB,UAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AACAD,MAAAA,MAAM,CAACE,MAAP,GAAiBC,CAAD,IAAO;AACvB;AACE,aAAKC,QAAL,CAAc;AAACC,UAAAA,IAAI,EAAC,KAAKC,UAAL,CAAgBN,MAAM,CAACO,MAAvB;AAAN,SAAd;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAjB;AACD,OAJD;;AAKAV,MAAAA,MAAM,CAACW,UAAP,CAAkBZ,KAAK,CAAC,CAAD,CAAvB,EAA2B,OAA3B;AACD,KAZ+B;;AAAA,SAahCO,UAbgC,GAalBM,OAAD,IAAa;AAAC;AACzB,UAAIC,QAAQ,GAAGD,OAAO,CAACE,KAAR,CAAc,IAAd,CAAf;AACA,UAAIC,IAAI,GAAG,EAAX;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,QAAQ,CAACI,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACxC,YAAIE,OAAO,GAAGL,QAAQ,CAACG,CAAD,CAAR,CAAYF,KAAZ,CAAkB,GAAlB,CAAd;AACA,YAAIK,EAAE,GAAG,EAAT,CAFwC,CAGxC;;AACAA,QAAAA,EAAE,CAACC,IAAH,GAAUF,OAAO,CAAC,CAAD,CAAjB;AACAH,QAAAA,IAAI,CAACM,IAAL,CAAU,EAAC,GAAGF;AAAJ,SAAV;AACD;;AACD,aAAOJ,IAAP;AACD,KAxB+B;;AAAA,SAyBhCO,SAzBgC,GAyBpB3B,UAAU,CAAE4B,KAAD,KAAY;AACjCC,MAAAA,IAAI,EAAE;AACJC,QAAAA,OAAO,EAAE,MADL;AAEJ,iBAAS;AACPC,UAAAA,MAAM,EAAEH,KAAK,CAACI,OAAN,CAAc,CAAd;AADD;AAFL,OAD2B;AAOjCC,MAAAA,KAAK,EAAE;AACLC,QAAAA,KAAK,EAAEN,KAAK,CAACI,OAAN,CAAc,CAAd,CADF;AAELG,QAAAA,MAAM,EAAEP,KAAK,CAACI,OAAN,CAAc,CAAd;AAFH,OAP0B;AAWjCI,MAAAA,KAAK,EAAE;AACLF,QAAAA,KAAK,EAAEN,KAAK,CAACI,OAAN,CAAc,EAAd,CADF;AAELG,QAAAA,MAAM,EAAEP,KAAK,CAACI,OAAN,CAAc,EAAd;AAFH;AAX0B,KAAZ,CAAD,CAzBU;AAAA;;AAyChCK,EAAAA,MAAM,GAAG;AAAA;;AACP,wBACE;AAAA,8BACE,QAAC,eAAD;AAAiB,QAAA,WAAW,EAAE,KAAKlC,WAAnC;AAAgD,QAAA,SAAS,EAAE,MAA3D;AAAA,+BACE;AAAQ,UAAA,SAAS,EAAC,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,EAIG,KAAKY,KAAL,iBAAe;AAAA,kBACb,KAAKA,KAAL,CAAWL,IAAX,CAAgB4B,GAAhB,IAAqBC,IAAD,IAAU;AAAA;;AAC7B1B,UAAAA,OAAO,CAACC,GAAR,CAAYyB,IAAI,CAACd,IAAjB;AACA,8BACE,QAAC,MAAD;AAAQ,YAAA,SAAS,EAAE,KAAKE,SAAL,GAAiBS,KAApC;AAA2C,YAAA,GAAG,EAAC,YAA/C;AAA4D,YAAA,GAAG,EAAEG,IAAI,CAACd;AAAtE;AAAA;AAAA;AAAA;AAAA,kBADF;AAGD,SALA;AADa;AAAA;AAAA;AAAA;AAAA,cAJlB;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAgBD;;AA1D+B;;AA4DlC,eAAexB,GAAf","sourcesContent":["import React from \"react\"\nimport ReactFileReader from 'react-file-reader';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\n\nclass Pic extends React.Component {\n  // componentDidMount = () => {\n\n  // }\n  handleFiles = files => {\n    var reader = new FileReader();\n    reader.onload = (e) => {\n    // Use reader.result\n      this.setState({text:this.csvToTable(reader.result)});\n      console.log(this.state);\n    }\n    reader.readAsText(files[0],'utf-8');\n  }\n  csvToTable = (content) => {//csv转表格obj格式\n    var userList = content.split(\"\\n\");\n    var data = [];\n    for (var i = 1; i < userList.length; i++) {\n      var userary = userList[i].split(\",\");\n      var tr = {};\n      //表里的7行\n      tr.link = userary[0];\n      data.push({...tr});\n    }\n    return data;\n  }\n  useStyles = makeStyles((theme) => ({\n    root: {\n      display: 'flex',\n      '& > *': {\n        margin: theme.spacing(1),\n      },\n    },\n    small: {\n      width: theme.spacing(3),\n      height: theme.spacing(3),\n    },\n    large: {\n      width: theme.spacing(10),\n      height: theme.spacing(10),\n    },\n  }));\n  render() {\n    return (\n      <div>\n        <ReactFileReader handleFiles={this.handleFiles} fileTypes={'.csv'}>\n          <button className='btn'>Upload</button>\n        </ReactFileReader>\n        {this.state && (<div>\n          {this.state.text.map((item) => {\n            console.log(item.link);\n            return (\n              <Avatar className={this.useStyles().large} alt=\"Remy Sharp\" src={item.link}/>\n            );\n          })}\n        </div>)}\n        Page1\n      </div>\n    );\n  }\n}\nexport default Pic;"]},"metadata":{},"sourceType":"module"}