{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/charleswang/Desktop/coding learning/web/projects/my-app/src/Page1.js\";\nimport React from \"react\";\nimport ReactFileReader from 'react-file-reader';\nimport Imgs from \"./Page2\";\n\nclass Pic extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleFiles = files => {\n      var reader = new FileReader();\n\n      reader.onload = e => {\n        // Use reader.result\n        data.text = this.csvToTable(reader.result);\n        console.log(data.text);\n        Pic();\n      };\n\n      reader.readAsText(files[0], 'utf-8');\n    };\n\n    this.csvToTable = content => {\n      //csv转表格obj格式\n      var userList = content.split(\"\\n\");\n      var data = [];\n\n      for (var i = 1; i < userList.length; i++) {\n        var userary = userList[i].split(\",\");\n        var tr = {}; //表里的7行\n\n        tr.link = userary[0];\n        data.push({ ...tr\n        });\n      }\n\n      return data;\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ReactFileReader, {\n        handleFiles: this.handleFiles,\n        fileTypes: '.csv',\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          children: \"Upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Imgs, {\n        link: data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), \"Page1\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this);\n  }\n\n} // componentDidMount = () => {\n\n\nvar data = {}; // }\n\nexport default Pic;","map":{"version":3,"sources":["/Users/charleswang/Desktop/coding learning/web/projects/my-app/src/Page1.js"],"names":["React","ReactFileReader","Imgs","Pic","Component","handleFiles","files","reader","FileReader","onload","e","data","text","csvToTable","result","console","log","readAsText","content","userList","split","i","length","userary","tr","link","push","render"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AAEA,OAAOC,IAAP,MAAiB,SAAjB;;AACA,MAAMC,GAAN,SAAkBH,KAAK,CAACI,SAAxB,CAAiC;AAAA;AAAA;;AAAA,SAC/BC,WAD+B,GACjBC,KAAK,IAAI;AACrB,UAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AACAD,MAAAA,MAAM,CAACE,MAAP,GAAiBC,CAAD,IAAO;AACvB;AACEC,QAAAA,IAAI,CAACC,IAAL,GAAY,KAAKC,UAAL,CAAgBN,MAAM,CAACO,MAAvB,CAAZ;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYL,IAAI,CAACC,IAAjB;AACAT,QAAAA,GAAG;AACJ,OALD;;AAMAI,MAAAA,MAAM,CAACU,UAAP,CAAkBX,KAAK,CAAC,CAAD,CAAvB,EAA2B,OAA3B;AACD,KAV8B;;AAAA,SAW/BO,UAX+B,GAWjBK,OAAD,IAAa;AAAC;AACzB,UAAIC,QAAQ,GAAGD,OAAO,CAACE,KAAR,CAAc,IAAd,CAAf;AACA,UAAIT,IAAI,GAAG,EAAX;;AACA,WAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,QAAQ,CAACG,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACxC,YAAIE,OAAO,GAAGJ,QAAQ,CAACE,CAAD,CAAR,CAAYD,KAAZ,CAAkB,GAAlB,CAAd;AACA,YAAII,EAAE,GAAG,EAAT,CAFwC,CAGxC;;AACAA,QAAAA,EAAE,CAACC,IAAH,GAAUF,OAAO,CAAC,CAAD,CAAjB;AACAZ,QAAAA,IAAI,CAACe,IAAL,CAAU,EAAC,GAAGF;AAAJ,SAAV;AACD;;AACD,aAAOb,IAAP;AACD,KAtB8B;AAAA;;AAuB/BgB,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,8BACE,QAAC,eAAD;AAAiB,QAAA,WAAW,EAAE,KAAKtB,WAAnC;AAAgD,QAAA,SAAS,EAAE,MAA3D;AAAA,+BACE;AAAQ,UAAA,SAAS,EAAC,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,QAAC,IAAD;AAAM,QAAA,IAAI,EAAEM;AAAZ;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAUD;;AAlC8B,C,CAoC/B;;;AACA,IAAIA,IAAI,GAAG,EAAX,C,CACA;;AACA,eAAeR,GAAf","sourcesContent":["import React from \"react\"\nimport ReactFileReader from 'react-file-reader';\n\nimport Imgs from \"./Page2\"\nclass Pic extends React.Component{\n  handleFiles = files => {\n    var reader = new FileReader();\n    reader.onload = (e) => {\n    // Use reader.result\n      data.text = this.csvToTable(reader.result);\n      console.log(data.text);\n      Pic();\n    }\n    reader.readAsText(files[0],'utf-8');\n  }\n  csvToTable = (content) => {//csv转表格obj格式\n    var userList = content.split(\"\\n\");\n    var data = [];\n    for (var i = 1; i < userList.length; i++) {\n      var userary = userList[i].split(\",\");\n      var tr = {};\n      //表里的7行\n      tr.link = userary[0];\n      data.push({...tr});\n    }\n    return data;\n  }\n  render() {\n    return (\n      <div>\n        <ReactFileReader handleFiles={this.handleFiles} fileTypes={'.csv'}>\n          <button className='btn'>Upload</button>\n        </ReactFileReader>\n        <Imgs link={data}></Imgs>\n        \n        Page1\n      </div>\n    );\n  }\n}\n  // componentDidMount = () => {\n  var data = {}\n  // }\n  export default Pic;\n"]},"metadata":{},"sourceType":"module"}