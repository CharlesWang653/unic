{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/charleswang/Desktop/coding learning/web/projects/my-app/src/Page1.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport ReactFileReader from 'react-file-reader';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    '& > *': {\n      margin: theme.spacing(1)\n    }\n  },\n  small: {\n    width: theme.spacing(3),\n    height: theme.spacing(3)\n  },\n  large: {\n    width: theme.spacing(10),\n    height: theme.spacing(10)\n  }\n})); // componentDidMount = () => {\n// }\n\nconst handleFiles = files => {\n  var reader = new FileReader();\n\n  reader.onload = e => {\n    // Use reader.result\n    this.setState({\n      text: csvToTable(reader.result)\n    });\n    console.log(this.state);\n  };\n\n  reader.readAsText(files[0], 'utf-8');\n};\n\nconst csvToTable = content => {\n  //csv转表格obj格式\n  var userList = content.split(\"\\n\");\n  var data = [];\n\n  for (var i = 1; i < userList.length; i++) {\n    var userary = userList[i].split(\",\");\n    var tr = {}; //表里的7行\n\n    tr.link = userary[0];\n    data.push({ ...tr\n    });\n  }\n\n  return data;\n};\n\nexport default function Pic() {\n  _s();\n\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(ReactFileReader, {\n      handleFiles: handleFiles,\n      fileTypes: '.csv',\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this), this.state && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.state.text.map(item => {\n        console.log(item.link);\n        return /*#__PURE__*/_jsxDEV(Avatar, {\n          className: classes.large,\n          alt: \"Remy Sharp\",\n          src: item.link\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }, this), \"Page1\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Pic, \"8g5FPXexvSEOsxdmU7HicukHGqY=\", false, function () {\n  return [useStyles];\n});\n\n_c = Pic;\n\nvar _c;\n\n$RefreshReg$(_c, \"Pic\");","map":{"version":3,"sources":["/Users/charleswang/Desktop/coding learning/web/projects/my-app/src/Page1.js"],"names":["React","ReactFileReader","Avatar","makeStyles","useStyles","theme","root","display","margin","spacing","small","width","height","large","handleFiles","files","reader","FileReader","onload","e","setState","text","csvToTable","result","console","log","state","readAsText","content","userList","split","data","i","length","userary","tr","link","push","Pic","classes","map","item"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport ReactFileReader from 'react-file-reader';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n  small: {\n    width: theme.spacing(3),\n    height: theme.spacing(3),\n  },\n  large: {\n    width: theme.spacing(10),\n    height: theme.spacing(10),\n  },\n}));\n  // componentDidMount = () => {\n\n  // }\n  const handleFiles = files => {\n    var reader = new FileReader();\n    reader.onload = (e) => {\n    // Use reader.result\n      this.setState({text:csvToTable(reader.result)});\n      console.log(this.state);\n    }\n    reader.readAsText(files[0],'utf-8');\n  }\n  const csvToTable = (content) => {//csv转表格obj格式\n    var userList = content.split(\"\\n\");\n    var data = [];\n    for (var i = 1; i < userList.length; i++) {\n      var userary = userList[i].split(\",\");\n      var tr = {};\n      //表里的7行\n      tr.link = userary[0];\n      data.push({...tr});\n    }\n    return data;\n  }\n  export default function Pic(){\n    const classes = useStyles();\n    return (\n      <div>\n        <ReactFileReader handleFiles={handleFiles} fileTypes={'.csv'}>\n          <button className='btn'>Upload</button>\n        </ReactFileReader>\n        {this.state && (<div>\n          {this.state.text.map((item) => {\n            console.log(item.link);\n            return (\n              <Avatar className={classes.large} alt=\"Remy Sharp\" src={item.link}/>\n            );\n          })}\n        </div>)}\n        Page1\n      </div>\n    );\n  }"]},"metadata":{},"sourceType":"module"}